<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">waitForCompletion</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXIgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCg0KdHJ5IHsN
CglJRGF0YVtdIHNlcnZpY2VzID0gSURhdGFVdGlsLmdldElEYXRhQXJyYXkocGlwZWxpbmVDdXIs
ICJzZXJ2aWNlcyIpOw0KCQ0KCWlmKHNlcnZpY2VzID09IG51bGwgfHwgc2VydmljZXMubGVuZ3Ro
ID09IDApIHsNCgkJcmV0dXJuOw0KCX0NCgkNCglTdHJpbmcgcG9vbCA9IElEYXRhVXRpbC5nZXRT
dHJpbmcocGlwZWxpbmVDdXIsICJwb29sIik7DQoJDQoJSURhdGEgdGltZW91dCA9IElEYXRhVXRp
bC5nZXRJRGF0YShwaXBlbGluZUN1ciwgInRpbWVvdXQiKTsJCQkNCglpZih0aW1lb3V0ID09IG51
bGwpIHsNCgkJdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIlRpbWVvdXQgbm90IHNldCIpOw0K
CX0NCglJRGF0YUN1cnNvciB0aW1lb3V0Q3VyID0gdGltZW91dC5nZXRDdXJzb3IoKTsNCglMb25n
IGR1cmF0aW9uID0gcGFyc2VEdXJhdGlvblRpbWVvdXQodGltZW91dEN1cik7DQoJVGltZVVuaXQg
dGltZVVuaXQgPSBwYXJzZVRpbWVVbml0VGltZW91dCh0aW1lb3V0Q3VyKTsNCgl0aW1lb3V0Q3Vy
LmRlc3Ryb3koKTsNCgkNCglJRGF0YUN1cnNvciBzZXJ2aWNlc0N1ciA9IG51bGw7CQkJDQoJTGlz
dDxGdXR1cmU8SURhdGE+PiBmdXR1cmVzID0gbmV3IEFycmF5TGlzdDxGdXR1cmU8SURhdGE+Pigp
Ow0KCQ0KCWZvcihpbnQgaT0wOyBpPHNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7DQoJCXNlcnZpY2Vz
Q3VyID0gc2VydmljZXNbaV0uZ2V0Q3Vyc29yKCk7DQoJCQ0KCQlGdXR1cmU8SURhdGE+IGZ1dHVy
ZSA9IChGdXR1cmU8SURhdGE+KUlEYXRhVXRpbC5nZXQoc2VydmljZXNDdXIsICJmdXR1cmUiKTsN
CgkJZnV0dXJlcy5hZGQoZnV0dXJlKTsNCgl9DQoNCglSZWFjdGl2ZVdNRmFjYWRlLndhaXQocG9v
bCwgZnV0dXJlcywgZHVyYXRpb24sIHRpbWVVbml0KTsNCgkNCglib29sZWFuIGNvbnRhaW5zRXJy
b3JzID0gZmFsc2U7DQoJaWYoZnV0dXJlcyAhPSBudWxsIHx8IGZ1dHVyZXMuc2l6ZSgpID09IDAp
IHsNCgkJaW50IGkgPSAwOw0KCQlmb3IoRnV0dXJlPElEYXRhPiBmdXR1cmUgOiBmdXR1cmVzKSB7
DQoJCQlzZXJ2aWNlc0N1ciA9IHNlcnZpY2VzW2krK10uZ2V0Q3Vyc29yKCk7DQoJCQlJRGF0YVV0
aWwucmVtb3ZlKHNlcnZpY2VzQ3VyLCAiZnV0dXJlIik7DQoJCQl0cnkgew0KCQkJCUlEYXRhVXRp
bC5wdXQoc2VydmljZXNDdXIsICJvdXRwdXQiLCBmdXR1cmUuZ2V0KCkpOw0KCQkJCUlEYXRhVXRp
bC5wdXQoc2VydmljZXNDdXIsICJpc09uRXJyb3IiLCAiZmFsc2UiKTsNCgkJCX0gY2F0Y2goRXhl
Y3V0aW9uRXhjZXB0aW9uIGVlKSB7DQoJCQkJY29udGFpbnNFcnJvcnMgPSB0cnVlOw0KCQkJCUlE
YXRhVXRpbC5wdXQoc2VydmljZXNDdXIsICJpc09uRXJyb3IiLCAiZmFsc2UiKTsNCgkJCQkNCgkJ
CQlJRGF0YSBlcnJvciA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsNCgkJCQlJRGF0YUN1cnNvciBl
cnJvckN1ciA9IGVycm9yLmdldEN1cnNvcigpOwkJCQkJCQ0KCQkJCUlEYXRhVXRpbC5wdXQoZXJy
b3JDdXIsICJlcnJvck1lc3NhZ2UiLCBlZS5nZXRDYXVzZSgpLmdldE1lc3NhZ2UoKSk7DQoJCQkJ
SURhdGFVdGlsLnB1dChlcnJvckN1ciwgImV4Y2VwdGlvbiIsIGVlLmdldENhdXNlKCkpOwkJCQkJ
CQ0KCQkJCWVycm9yQ3VyLmRlc3Ryb3koKTsNCgkJCQkNCgkJCQlJRGF0YVV0aWwucHV0KHNlcnZp
Y2VzQ3VyLCAiZXJyb3IiLCBlcnJvcik7DQoJCQl9DQoJCX0NCgl9DQoJCQkJCQkNCglJRGF0YVV0
aWwucHV0KHBpcGVsaW5lQ3VyLCAiY29udGFpbnNFcnJvcnMiLCBCb29sZWFuLnZhbHVlT2YoY29u
dGFpbnNFcnJvcnMpKTsNCgkNCglpZihzZXJ2aWNlc0N1ciAhPSBudWxsKSB7DQoJCXNlcnZpY2Vz
Q3VyLmRlc3Ryb3koKTsNCgl9DQp9IGNhdGNoKFRpbWVvdXRFeGNlcHRpb24gZSkgew0KCXRocm93
IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJQYXJhbGxlbGl6ZSBleGNlcHRpb246IFRpbWVvdXQgcmVh
Y2hlZCIpOw0KfQ0KY2F0Y2goRXhjZXB0aW9uIGUpIHsNCgl0aHJvdyBuZXcgU2VydmljZUV4Y2Vw
dGlvbigiV2FpdCBleGNlcHRpb246ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQp9IGZpbmFsbHkgew0K
CWlmKHBpcGVsaW5lQ3VyICE9IG51bGwpIHsNCgkJcGlwZWxpbmVDdXIuZGVzdHJveSgpOw0KCX0N
Cn0=</value>
</Values>
